<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" />
<title>Google Maps JavaScript API v3 Example: Map Simple</title>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
    function initialize() {
	var myLatlng = new google.maps.LatLng(51.5094, -0.1183);
	var myOptions = {
	    zoom: 2,
	    center: myLatlng,
	    mapTypeId: google.maps.MapTypeId.ROADMAP
	}
	var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
	
	
	var coords = [];
	{{#rows}}
	coords.push([{{lat}}, {{lng}}]);
	{{/rows}}

	$.each(coords, function(i, val) {
		var marker = new google.maps.Marker({
		position: new google.maps.LatLng(val[0], val[1])
		});
		marker.setMap(map);
	});

    }
</script>
</head>
<body onload="initialize()">
  <div id="map_canvas"></div>
</body>
</html>
